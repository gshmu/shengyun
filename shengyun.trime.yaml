# SPDX-FileCopyrightText: 2025 Shengyun IME
# SPDX-License-Identifier: GPL-3.0-or-later

# 声韵输入法 Trime 键盘配置
# encoding: utf-8

config_version: "3.0"
name: 声韵输入法
author: Shengyun IME for kindergarten children

# 儿童友好的配色方案
preset_color_schemes:
  shengyun_kids:
    name: 声韵儿童版
    author: shengyun
    text_color: 0x000000                      # 黑色文字
    candidate_text_color: 0x000000            # 黑色候选
    back_color: 0xFFFFFF                      # 白色背景
    border_color: 0xE0E0E0                    # 浅灰边框
    hilited_text_color: 0xFF6B35              # 橙色高亮
    hilited_back_color: 0xFFFFFF              # 白色高亮背景
    hilited_candidate_text_color: 0xFFFFFF    # 白色高亮候选
    hilited_candidate_back_color: 0xFF6B35    # 橙色高亮候选背景
    key_back_color: 0xF5F5F5                  # 浅灰按键背景
    key_text_color: 0x000000                  # 黑色按键文字
    key_border_color: 0xDDDDDD                # 按键边框
    hilited_key_back_color: 0xFFD93D          # 黄色按键高亮
    label_color: 0x888888                     # 灰色标签

# 儿童友好的样式设置
style:
  color_scheme: shengyun_kids
  candidate_text_size: 32                     # 大候选字号
  candidate_view_height: 40                   # 高候选区
  key_height: 70                              # 大按键高度
  key_text_size: 28                           # 大按键字号
  key_long_text_size: 20                      # 标签字号
  round_corner: 10                            # 圆角半径
  preview_text_size: 48                       # 大按键预览
  preview_height: 80                          # 高预览区
  keyboard_height: 320                        # 固定键盘高度

# 声韵分层键盘布局
preset_keyboards:
  shengyun_initials:
    name: 声母层
    author: shengyun
    ascii_mode: 0
    width: 10
    height: 70
    lock: true
    keys:
      # 第一行：唇音 + 舌尖音 (b p m f d t n l)
      - {click: b, label: "b", width: 12.5}
      - {click: p, label: "p", width: 12.5}
      - {click: m, label: "m", width: 12.5}
      - {click: f, label: "f", width: 12.5}
      - {click: d, label: "d", width: 12.5}
      - {click: t, label: "t", width: 12.5}
      - {click: n, label: "n", width: 12.5}
      - {click: l, label: "l", width: 12.5}

      # 第二行：舌根音 + 舌面音 + 半元音 (g k h j q x r y)
      - {click: g, label: "g", width: 12.5}
      - {click: k, label: "k", width: 12.5}
      - {click: h, label: "h", width: 12.5}
      - {click: j, label: "j", width: 12.5}
      - {click: q, label: "q", width: 12.5}
      - {click: x, label: "x", width: 12.5}
      - {click: r, label: "r", width: 12.5}
      - {click: y, label: "y", width: 12.5}

      # 第三行：翘舌音连续 + 平舌音连续 + 零声母标记 (zh ch sh z c s w)
      - {click: zh, label: "zh", width: 11}
      - {click: ch, label: "ch", width: 11}
      - {click: sh, label: "sh", width: 11}
      - {click: z, label: "z", width: 11}
      - {click: c, label: "c", width: 11}
      - {click: s, label: "s", width: 11}
      - {click: w, label: "w", width: 11}
      - {click: Keyboard_shengyun_finals, label: "➔韵母", width: 23, send_bindings: false, hilited: true}

      # 第四行：控制键
      - {click: Mode_switch, label: "符号", long_click: Menu, width: 15}
      - {click: Keyboard_default, label: "ABC", width: 15}
      - {click: space, label: "空格", width: 40}
      - {click: BackSpace, label: "⌫", width: 15, repeat: true}
      - {click: Return, label: "↵", width: 15}

  shengyun_finals:
    name: 韵母层
    author: shengyun
    ascii_mode: 0
    width: 10
    height: 70
    lock: true
    keys:
      # 第一行：单韵母 + 常用复韵母 (a o e i u ü ai ei ui ao)
      - {click: a, label: "a", width: 10}
      - {click: o, label: "o", width: 10}
      - {click: e, label: "e", width: 10}
      - {click: i, label: "i", width: 10}
      - {click: u, label: "u", width: 10}
      - {click: v, label: "ü", width: 10}
      - {click: ai, label: "ai", width: 10}
      - {click: ei, label: "ei", width: 10}
      - {click: ui, label: "ui", width: 10}
      - {click: ao, label: "ao", width: 10}

      # 第二行：复韵母 (ou iu ie üe er ia ua uo uai iao) iao在ao正下方
      - {click: ou, label: "ou", width: 10}
      - {click: iu, label: "iu", width: 10}
      - {click: ie, label: "ie", width: 10}
      - {click: ve, label: "üe", width: 10}
      - {click: er, label: "er", width: 10}
      - {click: ia, label: "ia", width: 10}
      - {click: ua, label: "ua", width: 10}
      - {click: uo, label: "uo", width: 10}
      - {click: uai, label: "uai", width: 10}
      - {click: iao, label: "iao", width: 10}

      # 第三行：鼻韵母 (an en in un ün ang eng ing ong) 9键对齐
      - {click: an, label: "an", width: 11.1}
      - {click: en, label: "en", width: 11.1}
      - {click: in, label: "in", width: 11.1}
      - {click: un, label: "un", width: 11.1}
      - {click: vn, label: "ün", width: 11.2}
      - {click: ang, label: "ang", width: 11.1}
      - {click: eng, label: "eng", width: 11.1}
      - {click: ing, label: "ing", width: 11.1}
      - {click: ong, label: "ong", width: 11.1}

      # 第四行：复合鼻韵母严格对齐 + 控制键 (9键)
      # ian在an下, uan在un下, üan在ün下, iang在ang下, uang在eng下, iong在ong下
      - {click: ian, label: "ian", width: 11.1}
      - {click: Keyboard_shengyun_initials, label: "➔声母", width: 11.1, send_bindings: false, hilited: true}
      - {click: space, label: "空格", width: 11.1}
      - {click: uan, label: "uan", width: 11.1}
      - {click: van, label: "üan", width: 11.2}
      - {click: iang, label: "iang", width: 11.1}
      - {click: uang, label: "uang", width: 11.1}
      - {click: BackSpace, label: "⌫", width: 11.1, repeat: true}
      - {click: iong, label: "iong", width: 11.1}

  # 声韵主键盘（默认显示声母层）
  shengyun:
    __include: /preset_keyboards/shengyun_initials

# 默认键盘映射
preset_keys:
  Keyboard_shengyun: {label: 声韵, send: Eisu_toggle, select: shengyun}
  Keyboard_shengyun_initials: {label: 声母, send: Eisu_toggle, select: shengyun_initials}
  Keyboard_shengyun_finals: {label: 韵母, send: Eisu_toggle, select: shengyun_finals}
