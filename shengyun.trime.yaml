# SPDX-FileCopyrightText: 2025 Shengyun IME
# SPDX-License-Identifier: GPL-3.0-or-later

# 声韵输入法 Trime 键盘配置
# encoding: utf-8

config_version: "3.0"
name: 声韵输入法
author: Shengyun IME for kindergarten children

__include: trime.yaml

# 儿童友好的配色方案
preset_color_schemes:
  shengyun_kids:
    name: 声韵儿童版
    author: shengyun
    text_color: 0x000000                      # 黑色文字
    candidate_text_color: 0x000000            # 黑色候选
    back_color: 0xFFFFFF                      # 白色背景
    border_color: 0xE0E0E0                    # 浅灰边框
    hilited_text_color: 0xFF6B35              # 橙色高亮
    hilited_back_color: 0xFFFFFF              # 白色高亮背景
    hilited_candidate_text_color: 0xFFFFFF    # 白色高亮候选
    hilited_candidate_back_color: 0xFF6B35    # 橙色高亮候选背景
    key_back_color: 0xF5F5F5                  # 浅灰按键背景
    key_text_color: 0x000000                  # 黑色按键文字
    key_border_color: 0xDDDDDD                # 按键边框
    hilited_key_back_color: 0xFFD93D          # 黄色按键高亮
    label_color: 0x888888                     # 灰色标签

# 儿童友好的样式设置
style:
  __include: /style
  color_scheme: shengyun_kids
  candidate_text_size: 32                     # 大候选字号
  candidate_view_height: 40                   # 高候选区
  key_height: 70                              # 大按键高度
  key_text_size: 28                           # 大按键字号
  key_long_text_size: 20                      # 标签字号
  round_corner: 10                            # 圆角半径
  preview_text_size: 48                       # 大按键预览
  preview_height: 80                          # 高预览区
  keyboard_height: 320                        # 固定键盘高度

# 声韵分层键盘布局
preset_keyboards:
  shengyun_initials:
    name: 声母层
    author: shengyun
    ascii_mode: 0
    width: 10
    height: 70
    lock: true
    keys:
      # 第一行：常用声母 b p m f d t n l（纯拼音，自动切换到韵母层）
      - {click: b, select: shengyun_finals, label: "b", long_click: "1", width: 12.5}
      - {click: p, select: shengyun_finals, label: "p", long_click: "2", width: 12.5}
      - {click: m, select: shengyun_finals, label: "m", long_click: "3", width: 12.5}
      - {click: f, select: shengyun_finals, label: "f", long_click: "4", width: 12.5}
      - {click: d, select: shengyun_finals, label: "d", long_click: "5", width: 12.5}
      - {click: t, select: shengyun_finals, label: "t", long_click: "6", width: 12.5}
      - {click: n, select: shengyun_finals, label: "n", long_click: "7", width: 12.5}
      - {click: l, select: shengyun_finals, label: "l", long_click: "8", width: 12.5}

      # 第二行：常用声母 g k h j q x + 翘舌音（自动切换到韵母层）
      - {click: g, select: shengyun_finals, label: "g", width: 11}
      - {click: k, select: shengyun_finals, label: "k", width: 11}
      - {click: h, select: shengyun_finals, label: "h", width: 11}
      - {click: j, select: shengyun_finals, label: "j", width: 11}
      - {click: q, select: shengyun_finals, label: "q", width: 11}
      - {click: x, select: shengyun_finals, label: "x", width: 11}
      - {click: zh, select: shengyun_finals, label: "zh", width: 13}
      - {click: ch, select: shengyun_finals, label: "ch", width: 13}

      # 第三行：平舌音 + 零声母标记 + 手动切换键（自动切换到韵母层）
      - {click: sh, select: shengyun_finals, label: "sh", width: 11}
      - {click: r, select: shengyun_finals, label: "r", width: 11}
      - {click: z, select: shengyun_finals, label: "z", width: 11}
      - {click: c, select: shengyun_finals, label: "c", width: 11}
      - {click: s, select: shengyun_finals, label: "s", width: 11}
      - {click: y, select: shengyun_finals, label: "y", width: 11}
      - {click: w, select: shengyun_finals, label: "w", width: 11}
      - {click: Keyboard_shengyun_finals, label: "➔韵母", width: 23, send_bindings: false, hilited: true}

      # 第四行：控制键
      - {click: Mode_switch, label: "符号", long_click: Menu, width: 15}
      - {click: Keyboard_default, label: "ABC", width: 15}
      - {click: space, label: "空格", width: 40}
      - {click: BackSpace, label: "⌫", width: 15, repeat: true}
      - {click: Return, label: "↵", width: 15}

  shengyun_finals:
    name: 韵母层
    author: shengyun
    ascii_mode: 0
    width: 10
    height: 70
    lock: true
    keys:
      # 第一行：单韵母 + 复韵母 ai ei ui ao ou（纯拼音a，自动返回声母层）
      - {click: a, select: shengyun_initials, label: "a", long_click: "1", width: 10}
      - {click: o, select: shengyun_initials, label: "o", long_click: "2", width: 10}
      - {click: e, select: shengyun_initials, label: "e", long_click: "3", width: 10}
      - {click: i, select: shengyun_initials, label: "i", long_click: "4", width: 10}
      - {click: u, select: shengyun_initials, label: "u", long_click: "5", width: 10}
      - {click: v, select: shengyun_initials, label: "ü", long_click: "6", width: 10}
      - {click: ai, select: shengyun_initials, label: "ai", long_click: "7", width: 10}
      - {click: ei, select: shengyun_initials, label: "ei", long_click: "8", width: 10}
      - {click: ui, select: shengyun_initials, label: "ui", long_click: "9", width: 10}
      - {click: ao, select: shengyun_initials, label: "ao", long_click: "0", width: 10}

      # 第二行：复韵母 ou iu ie üe er + 特殊韵母（自动返回声母层）
      - {click: ou, select: shengyun_initials, label: "ou", width: 10}
      - {click: iu, select: shengyun_initials, label: "iu", width: 10}
      - {click: ie, select: shengyun_initials, label: "ie", width: 10}
      - {click: ve, select: shengyun_initials, label: "üe", width: 10}
      - {click: er, select: shengyun_initials, label: "er", width: 10}
      - {click: ia, select: shengyun_initials, label: "ia", width: 10}
      - {click: ua, select: shengyun_initials, label: "ua", width: 10}
      - {click: uo, select: shengyun_initials, label: "uo", width: 10}
      - {click: iao, select: shengyun_initials, label: "iao", width: 10}
      - {click: uai, select: shengyun_initials, label: "uai", width: 10}

      # 第三行：前鼻韵母 an en in un ün + 后鼻韵母 ang eng ing ong（自动返回声母层）
      - {click: an, select: shengyun_initials, label: "an", width: 9}
      - {click: en, select: shengyun_initials, label: "en", width: 9}
      - {click: in, select: shengyun_initials, label: "in", width: 9}
      - {click: un, select: shengyun_initials, label: "un", width: 9}
      - {click: vn, select: shengyun_initials, label: "ün", width: 9}
      - {click: ang, select: shengyun_initials, label: "ang", width: 10}
      - {click: eng, select: shengyun_initials, label: "eng", width: 10}
      - {click: ing, select: shengyun_initials, label: "ing", width: 10}
      - {click: ong, select: shengyun_initials, label: "ong", width: 10}
      - {click: Keyboard_shengyun_initials, label: "声母➔", width: 15, send_bindings: false, hilited: true}

      # 第四行：特殊韵母组合 + 控制键（自动返回声母层）
      - {click: ian, select: shengyun_initials, label: "ian", width: 10}
      - {click: uan, select: shengyun_initials, label: "uan", width: 10}
      - {click: van, select: shengyun_initials, label: "üan", width: 10}
      - {click: iang, select: shengyun_initials, label: "iang", width: 10}
      - {click: uang, select: shengyun_initials, label: "uang", width: 10}
      - {click: iong, select: shengyun_initials, label: "iong", width: 10}
      - {click: space, label: "空格", width: 30}
      - {click: BackSpace, label: "⌫", width: 10, repeat: true}
      - {click: Return, label: "↵", width: 10}

  # 零声母键盘（可选，用于直接输入零声母音节）
  shengyun_zero:
    name: 零声母
    author: shengyun
    ascii_mode: 0
    width: 10
    height: 70
    lock: true
    keys:
      # 整体认读音节和零声母音节（自动返回声母层）
      # 第一行
      - {click: a, select: shengyun_initials, label: "a", width: 12.5}
      - {click: o, select: shengyun_initials, label: "o", width: 12.5}
      - {click: e, select: shengyun_initials, label: "e", width: 12.5}
      - {click: ai, select: shengyun_initials, label: "ai", width: 12.5}
      - {click: ei, select: shengyun_initials, label: "ei", width: 12.5}
      - {click: ao, select: shengyun_initials, label: "ao", width: 12.5}
      - {click: ou, select: shengyun_initials, label: "ou", width: 12.5}
      - {click: er, select: shengyun_initials, label: "er", width: 12.5}

      # 第二行
      - {click: an, select: shengyun_initials, label: "an", width: 12.5}
      - {click: en, select: shengyun_initials, label: "en", width: 12.5}
      - {click: ang, select: shengyun_initials, label: "ang", width: 12.5}
      - {click: eng, select: shengyun_initials, label: "eng", width: 12.5}
      - {click: yi, select: shengyun_initials, label: "yi", width: 12.5}
      - {click: wu, select: shengyun_initials, label: "wu", width: 12.5}
      - {click: yu, select: shengyun_initials, label: "yu", width: 12.5}
      - {click: ye, select: shengyun_initials, label: "ye", width: 12.5}

      # 第三行
      - {click: yue, select: shengyun_initials, label: "yue", width: 11}
      - {click: yuan, select: shengyun_initials, label: "yuan", width: 11}
      - {click: yin, select: shengyun_initials, label: "yin", width: 11}
      - {click: yun, select: shengyun_initials, label: "yun", width: 11}
      - {click: ying, select: shengyun_initials, label: "ying", width: 11}
      - {click: yong, select: shengyun_initials, label: "yong", width: 11}
      - {click: Keyboard_shengyun_initials, label: "声母", width: 23, send_bindings: false}

      # 第四行：控制键
      - {click: Mode_switch, label: "符号", long_click: Menu, width: 15}
      - {click: Keyboard_default, label: "ABC", width: 15}
      - {click: space, label: "空格", width: 40}
      - {click: BackSpace, label: "⌫", width: 15, repeat: true}
      - {click: Return, label: "↵", width: 15}

  # 声韵主键盘（默认显示声母层）
  shengyun:
    __include: /preset_keyboards/shengyun_initials

# 默认键盘映射
preset_keys:
  Keyboard_shengyun: {label: 声韵, send: Eisu_toggle, select: shengyun}
  Keyboard_shengyun_initials: {label: 声母, send: Eisu_toggle, select: shengyun_initials}
  Keyboard_shengyun_finals: {label: 韵母, send: Eisu_toggle, select: shengyun_finals}
  Keyboard_shengyun_zero: {label: 零声母, send: Eisu_toggle, select: shengyun_zero}
